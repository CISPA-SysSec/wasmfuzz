diff --git a/Cargo.lock b/Cargo.lock
index 4fc0480e9..5c280e4e5 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -1,5 +1,7 @@
 # This file is automatically @generated by Cargo.
 # It is not intended for manual editing.
+version = 4
+
 [[package]]
 name = "addr2line"
 version = "0.13.0"
@@ -1629,13 +1631,11 @@ dependencies = [
 
 [[package]]
 name = "raw-cpuid"
-version = "7.0.3"
+version = "10.7.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "b4a349ca83373cfa5d6dbb66fd76e58b2cca08da71a5f6400de0a0a6a9bceeaf"
+checksum = "6c297679cb867470fa8c9f67dbba74a78d78e3e98d7cf2b08d6d71540f797332"
 dependencies = [
  "bitflags",
- "cc",
- "rustc_version",
 ]
 
 [[package]]
@@ -1782,15 +1782,6 @@ version = "1.1.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "08d43f7aa6b08d49f382cde6a7982047c3426db949b1424bc4b7ec9ae12c6ce2"
 
-[[package]]
-name = "rustc_version"
-version = "0.2.3"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "138e3e0acb6c9fb258b19b67cb8abd63c00679d2851805ea151465464fe9030a"
-dependencies = [
- "semver",
-]
-
 [[package]]
 name = "rusty-fork"
 version = "0.2.2"
@@ -1844,21 +1835,6 @@ dependencies = [
  "syn",
 ]
 
-[[package]]
-name = "semver"
-version = "0.9.0"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403"
-dependencies = [
- "semver-parser",
-]
-
-[[package]]
-name = "semver-parser"
-version = "0.7.0"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3"
-
 [[package]]
 name = "serde"
 version = "1.0.114"
diff --git a/cranelift/native/Cargo.toml b/cranelift/native/Cargo.toml
index d4a69e760..d3d9f8644 100644
--- a/cranelift/native/Cargo.toml
+++ b/cranelift/native/Cargo.toml
@@ -15,15 +15,12 @@ cranelift-codegen = { path = "../codegen", version = "0.67.0", default-features
 target-lexicon = "0.11"
 
 [target.'cfg(any(target_arch = "x86", target_arch = "x86_64"))'.dependencies]
-raw-cpuid = "7.0.3"
+raw-cpuid = "10"
 
 [features]
 default = ["std"]
 std = ["cranelift-codegen/std"]
-# when compiling with the "core" feature, nightly must be enabled
-# enabling the "nightly" feature for raw-cpuid allows avoiding
-# linking in a c-library.
-core = ["cranelift-codegen/core", "raw-cpuid/nightly"]
+core = ["cranelift-codegen/core"]
 
 [badges]
 maintenance = { status = "experimental" }
diff --git a/cranelift/native/src/lib.rs b/cranelift/native/src/lib.rs
index 903fbb352..08d0a645e 100644
--- a/cranelift/native/src/lib.rs
+++ b/cranelift/native/src/lib.rs
@@ -95,7 +95,7 @@ fn parse_x86_cpuid(isa_builder: &mut isa::Builder) -> Result<(), &'static str> {
             isa_builder.enable("has_avx512f").unwrap();
         }
     }
-    if let Some(info) = cpuid.get_extended_function_info() {
+    if let Some(info) = cpuid.get_extended_processor_and_feature_identifiers() {
         if info.has_lzcnt() {
             isa_builder.enable("has_lzcnt").unwrap();
         }
